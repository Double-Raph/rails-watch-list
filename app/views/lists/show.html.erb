<div class="container mt-5">

  <div class="position-relative text-center text-white" style="background-image: url('https://cdn.pixabay.com/photo/2016/11/29/03/53/cinema-1867222_960_720.jpg'); background-size: cover; background-position: center; height: 300px; border-radius: 10px;">
    <h1 class="position-absolute top-50 start-50 translate-middle fw-bold"><%= @list.name %></h1>
    <div class="position-absolute top-0 end-0 m-3">
      <span class="badge bg-warning text-dark fs-5"><%= @list.bookmarks.count %> films</span>
    </div>
  </div>


  <div class="text-end mt-3">
    <%= link_to "Ajouter un film", new_list_bookmark_path(@list), class: "btn btn-success" %>
  </div>


  <div class="row mt-4">
    <% @list.bookmarks.each do |bookmark| %>
      <div class="col-12 col-md-6 mb-4">
        <div class="card shadow-sm h-100">

          <%= image_tag bookmark.movie.poster_url || 'https://via.placeholder.com/400x300?text=Image+non+disponible', class: "card-img-top", alt: "#{bookmark.movie.title} affiche" %>
          <div class="card-body d-flex flex-column">

            <h5 class="card-title">
              <%= bookmark.movie.title %>
              <span class="text-warning">• <%= bookmark.movie.rating %> ⭐</span>
            </h5>

            <p class="card-text"><%= bookmark.movie.overview %></p>
            
            <p class="text-muted fst-italic">“<%= bookmark.comment %>”</p>

          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
